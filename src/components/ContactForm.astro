---

---

<section
    class="relative w-full bg-black py-24 px-4 sm:px-6 lg:px-8 overflow-hidden"
>
    <div class="max-w-4xl mx-auto relative z-10">
        <!-- Header -->
        <div class="text-center mb-16">
            <h2
                class="text-5xl md:text-7xl font-black text-white mb-4 tracking-tighter uppercase"
            >
                CONTÁCTAME
            </h2>
            <p
                class="text-[#aba070] text-lg font-light tracking-widest uppercase"
            >
                ESTOY AQUÍ PARA AYUDARTE A LOGRAR TUS METAS
            </p>
        </div>

        <!-- Glass Form Card -->
        <div
            class="p-8 md:p-16 rounded-[3rem] bg-white/5 backdrop-blur-3xl border border-white/10 shadow-3xl"
        >
            <form id="contactForm" class="space-y-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <!-- Name -->
                    <div class="space-y-2">
                        <label
                            for="name"
                            class="block text-xs font-bold text-[#aba070] tracking-widest uppercase ml-4"
                            >NOMBRE COMPLETO</label
                        >
                        <input
                            type="text"
                            id="name"
                            name="name"
                            required
                            placeholder="Escribe tu nombre"
                            class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-[#aba070] focus:bg-white/10 transition-all placeholder:text-gray-600"
                        />
                    </div>

                    <!-- Age -->
                    <div class="space-y-2">
                        <label
                            for="age"
                            class="block text-xs font-bold text-[#aba070] tracking-widest uppercase ml-4"
                            >EDAD</label
                        >
                        <input
                            type="number"
                            id="age"
                            name="age"
                            required
                            placeholder="Tu edad"
                            class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-[#aba070] focus:bg-white/10 transition-all placeholder:text-gray-600"
                        />
                    </div>

                    <!-- Goal -->
                    <div class="space-y-2">
                        <label
                            for="goal"
                            class="block text-xs font-bold text-[#aba070] tracking-widest uppercase ml-4"
                            >OBJETIVO PRINCIPAL</label
                        >
                        <select
                            id="goal"
                            name="goal"
                            required
                            class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-[#aba070] focus:bg-white/10 transition-all appearance-none cursor-pointer"
                        >
                            <option
                                value=""
                                disabled
                                selected
                                class="bg-black text-gray-400"
                                >Selecciona tu objetivo</option
                            >
                            <option value="Perdida de grasa" class="bg-black"
                                >Pérdida de grasa</option
                            >
                            <option value="Ganancia muscular" class="bg-black"
                                >Ganancia muscular</option
                            >
                            <option value="Resistencia" class="bg-black"
                                >Resistencia</option
                            >
                            <option value="Salud general" class="bg-black"
                                >Salud general</option
                            >
                            <option value="Otro" class="bg-black">Otro</option>
                        </select>
                    </div>

                    <!-- Level -->
                    <div class="space-y-2">
                        <label
                            for="level_city"
                            class="block text-xs font-bold text-[#aba070] tracking-widest uppercase ml-4"
                            >NIVEL ACTUAL</label
                        >
                        <input
                            type="text"
                            id="level_city"
                            name="level_city"
                            required
                            placeholder="Ej: Principiante"
                            class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-[#aba070] focus:bg-white/10 transition-all placeholder:text-gray-600"
                        />
                    </div>
                </div>

                <!-- WhatsApp -->
                <div class="space-y-2">
                    <label
                        for="whatsapp"
                        class="block text-xs font-bold text-[#aba070] tracking-widest uppercase ml-4"
                        >WHATSAPP</label
                    >
                    <input
                        type="tel"
                        id="whatsapp"
                        name="whatsapp"
                        required
                        placeholder="+57 301 7821333"
                        class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-[#aba070] focus:bg-white/10 transition-all placeholder:text-gray-600"
                    />
                </div>

                <!-- Message -->
                <div class="space-y-2">
                    <label
                        for="message"
                        class="block text-xs font-bold text-[#aba070] tracking-widest uppercase ml-4"
                        >COMENTARIO OPCIONAL</label
                    >
                    <textarea
                        id="message"
                        name="message"
                        rows="4"
                        placeholder="Cuéntame más sobre tu proceso..."
                        class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-white focus:outline-none focus:border-[#aba070] focus:bg-white/10 transition-all placeholder:text-gray-600 resize-none"
                    ></textarea>
                </div>

                <!-- Submit Button -->
                <div class="pt-6">
                    <button
                        type="submit"
                        class="submit-btn w-full bg-white text-black font-black py-5 rounded-2xl tracking-[0.2em] uppercase hover:bg-[#aba070] hover:text-white transition-all duration-300 shadow-xl active:scale-95"
                    >
                        SOLICITAR ASESORÍA PERSONALIZADA
                    </button>
                </div>

                <div
                    id="formStatus"
                    class="mt-6 text-center text-sm font-bold tracking-widest uppercase"
                >
                </div>
            </form>
        </div>
    </div>

    <!-- Background highlights -->
    <div
        class="absolute top-0 right-0 w-[800px] h-[800px] bg-[#aba070]/5 blur-[150px] rounded-full -translate-y-1/2 translate-x-1/2 pointer-events-none"
    >
    </div>
    <div
        class="absolute bottom-0 left-0 w-[800px] h-[800px] bg-orange-500/5 blur-[150px] rounded-full translate-y-1/2 -translate-x-1/2 pointer-events-none"
    >
    </div>
</section>

<style>
    .form-status.success {
        color: #aba070;
    }
    .form-status.error {
        color: #ef4444;
    }
</style>

<script>
    const form = document.getElementById("contactForm");
    const statusDiv = document.getElementById("formStatus");

    if (form && statusDiv) {
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const submitBtn = form.querySelector(
                ".submit-btn",
            ) as HTMLButtonElement;
            const originalBtnText = submitBtn.innerText;

            submitBtn.disabled = true;
            submitBtn.innerText = "ENVIANDO...";
            statusDiv.className =
                "mt-6 text-center text-sm font-bold tracking-widest uppercase";
            statusDiv.innerHTML = "";

            const formData = new FormData(form as HTMLFormElement);
            const data = Object.fromEntries(formData.entries());

            try {
                const response = await fetch("/send-mail.php", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(data),
                });

                const text = await response.text();
                let result;

                try {
                    result = JSON.parse(text);
                } catch (e) {
                    if (text.includes("<?php")) {
                        throw new Error("SERVER ERROR: PHP NOT EXECUTED");
                    }
                    throw new Error("INVALID SERVER RESPONSE");
                }

                if (response.ok) {
                    statusDiv.innerText =
                        result.message || "¡MENSAJE ENVIADO CON ÉXITO!";
                    statusDiv.classList.add("success");
                    (form as HTMLFormElement).reset();
                } else {
                    throw new Error(result.message || "ERROR AL ENVIAR");
                }
            } catch (error) {
                statusDiv.innerText =
                    error instanceof Error
                        ? error.message.toUpperCase()
                        : "ERROR INESPERADO";
                statusDiv.classList.add("error");
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerText = originalBtnText;
            }
        });
    }
</script>
